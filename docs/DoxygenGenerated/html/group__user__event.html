<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CloudBuilder C++ SDK: Event related tasks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xtralife-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CloudBuilder C++ SDK
   &#160;<span id="projectnumber">v3.0.0</span>
   </div>
   <div id="projectbrief">Making social games is easy !</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Event related tasks</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2d8e2fb152134b91b104c085dd217f94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__user__event.html#ga2d8e2fb152134b91b104c085dd217f94">CloudBuilder::CUserManager::RegisterEventListener</a> (const char *aDomain, <a class="el" href="struct_cloud_builder_1_1_c_event_listener.html">CEventListener</a> *aListener)</td></tr>
<tr class="separator:ga2d8e2fb152134b91b104c085dd217f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10c255d9f017491bbc4967e6a64d90ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__user__event.html#ga10c255d9f017491bbc4967e6a64d90ab">CloudBuilder::CUserManager::UnregisterEventListener</a> (const char *aDomain, <a class="el" href="struct_cloud_builder_1_1_c_event_listener.html">CEventListener</a> *aListener)</td></tr>
<tr class="separator:ga10c255d9f017491bbc4967e6a64d90ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d2ac498c42072c42d4035340a053511"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__user__event.html#ga3d2ac498c42072c42d4035340a053511">CloudBuilder::CUserManager::PushEvent</a> (const char *aDomain, const char *aGamerID, const <a class="el" href="class_cot_c_helpers_1_1_c_h_j_s_o_n.html">CotCHelpers::CHJSON</a> *aEvent, const <a class="el" href="class_cot_c_helpers_1_1_c_h_j_s_o_n.html">CotCHelpers::CHJSON</a> *aNotification, <a class="el" href="namespace_cloud_builder.html#aa9298038517f1c9498ac65a0fef1ff93">CResultHandler</a> *aHandler)</td></tr>
<tr class="separator:ga3d2ac498c42072c42d4035340a053511"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3d2ac498c42072c42d4035340a053511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d2ac498c42072c42d4035340a053511">&#9670;&nbsp;</a></span>PushEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CloudBuilder::CUserManager::PushEvent </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aGamerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_cot_c_helpers_1_1_c_h_j_s_o_n.html">CotCHelpers::CHJSON</a> *&#160;</td>
          <td class="paramname"><em>aEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_cot_c_helpers_1_1_c_h_j_s_o_n.html">CotCHelpers::CHJSON</a> *&#160;</td>
          <td class="paramname"><em>aNotification</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_cloud_builder.html#aa9298038517f1c9498ac65a0fef1ff93">CResultHandler</a> *&#160;</td>
          <td class="paramname"><em>aHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method to be called to setup a listener on a domain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aDomain</td><td>is the domain (ie channel) to watch </td></tr>
    <tr><td class="paramname">aGamerID</td><td>the user to notify </td></tr>
    <tr><td class="paramname">aEvent</td><td>the data to transmit (free form json) </td></tr>
    <tr><td class="paramname">aNotification</td><td>an optional json which describes the OS notification to be displayed is the app is in background It should be of the form { "en" : "I need help!", "fr" : "J'ai desoin d'aide"} the size of the localized message should be less than 100 char and will be truncated. the lang code is ISO-639-1. Apply Cloudbuilder::CUserManager::SetProfile with 'lang', preferred language, should be set with this ISO code.If 'lang' is no set, or the code not found in the aNotification, then, the 'en' will de displayed. If even 'en' is not found, a cloudbuilder default message will be displayed. If NULL is passed, no notification will be displayed. aNotification can optionnaly contains a "data" field that will be part of the os notification, but the size of this field plus the localized message should be less than 100 character (this is due to os constraint). </td></tr>
    <tr><td class="paramname">aHandler</td><td>result handler whenever the call finishes (it might also be synchronous) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2d8e2fb152134b91b104c085dd217f94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d8e2fb152134b91b104c085dd217f94">&#9670;&nbsp;</a></span>RegisterEventListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CloudBuilder::CUserManager::RegisterEventListener </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cloud_builder_1_1_c_event_listener.html">CEventListener</a> *&#160;</td>
          <td class="paramname"><em>aListener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method to be called to setup a listener on a domain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aDomain</td><td>is the domain (ie channel) to watch </td></tr>
    <tr><td class="paramname">aListener</td><td>will be called when an event will be available on this domain. The listener is a CRefClass, so if you don't need it, you can call Release(). The system will keep it as long as needed and free it then, as shown below. <a class="el" href="struct_cloud_builder_1_1_c_event_listener.html">CEventListener</a> *listener = new MyListenerObject; RegisterEventListener("domain", listener); listener-&gt;Release(); Adversely, do not delete the listener object once registered. Unregister it before or call Release(), which will do nothing if it is still retained elsewhere. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga10c255d9f017491bbc4967e6a64d90ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10c255d9f017491bbc4967e6a64d90ab">&#9670;&nbsp;</a></span>UnregisterEventListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CloudBuilder::CUserManager::UnregisterEventListener </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>aDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cloud_builder_1_1_c_event_listener.html">CEventListener</a> *&#160;</td>
          <td class="paramname"><em>aListener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregisters a previously registered event listener. Does nothing if the event listener wasn't actually registered for the matching domain. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aDomain</td><td>is the domain (ie channel) to watch </td></tr>
    <tr><td class="paramname">aListener</td><td>a previously registered event listener </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 8 2019 13:06:29 for CloudBuilder C++ SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
